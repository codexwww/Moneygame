<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Money Game</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #0f172a;
    color: white;
    display: flex;
}

.sidebar {
    width: 220px;
    background: #020617;
    height: 100vh;
    padding: 20px;
}

.menu-item {
    margin: 15px 0;
    cursor: pointer;
    color: #cbd5f5;
}
.menu-item:hover { color: #22c55e; }

.content {
    flex: 1;
    padding: 30px;
}

.card {
    background: #1e293b;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 15px;
}

.action {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
}

.up { color: #22c55e; }
.down { color: #ef4444; }
</style>
</head>

<body>

<div class="sidebar">
    <h2>üí∞ Money Game</h2>
    <div class="menu-item" onclick="dashboard()">üè† Accueil</div>
    <div class="menu-item" onclick="investPage()">üìà Investir</div>
</div>

<div class="content" id="content"></div>

<script>
let argent = localStorage.getItem("argent")
    ? parseInt(localStorage.getItem("argent"))
    : 10000;

const actions = [
    { id:0, nom:"Alpha Corp", prix:100, prev:100, timer:rand(), cooldown:0 },
    { id:1, nom:"Beta Industries", prix:250, prev:250, timer:rand(), cooldown:0 },
    { id:2, nom:"Gamma Tech", prix:500, prev:500, timer:rand(), cooldown:0 }
];

function rand() {
    return Math.floor(Math.random()*5+1)*60;
}

/* DASHBOARD */
function dashboard() {
    document.getElementById("content").innerHTML = `
        <h1>Tableau de bord</h1>
        <div class="card">üí∞ Argent : ${argent} ‚Ç¨</div>
    `;
}

/* PAGE INVESTIR */
function investPage() {
    let html = `<h1>Investir</h1>`;
    actions.forEach(a => {
        let diff = (((a.prix - a.prev) / a.prev) * 100).toFixed(2);
        let up = diff >= 0;
        html += `
        <div class="card action" onclick="openAction(${a.id})">
            <div>
                <strong>${a.nom}</strong><br>
                <span class="${up ? "up":"down"}">
                    ${up ? "‚ñ≤":"‚ñº"} ${diff} %
                </span>
            </div>
            <div>‚è±Ô∏è ${a.timer}s</div>
        </div>`;
    });
    document.getElementById("content").innerHTML = html;
}

/* PAGE ACTION */
function openAction(id) {
    let a = actions[id];
    document.getElementById("content").innerHTML = `
        <h1>${a.nom}</h1>
        <div class="card">üí≤ Prix actuel : ${a.prix} ‚Ç¨</div>
        <div class="card">‚è±Ô∏è Prochaine variation : ${a.timer}s</div>
        <button onclick="investPage()">‚¨Ö Retour</button>
    `;
}

/* MARCH√â EN TEMPS R√âEL */
setInterval(() => {
    actions.forEach(a => {
        a.timer--;
        if (a.timer <= 0) {
            a.prev = a.prix;
            let variation = Math.random()*0.2 - 0.1;
            a.prix = Math.max(10, Math.floor(a.prix * (1 + variation)));
            a.timer = rand();
        }
    });

    if (document.getElementById("content").innerHTML.includes("Investir")) {
        investPage();
    }
}, 1000);

/* START */
dashboard();
</script>

</body>
</html>
